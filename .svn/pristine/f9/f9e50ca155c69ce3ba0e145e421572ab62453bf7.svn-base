<link rel="stylesheet" href="../upLoadRe_pc/css/re_public.css">
<link rel="stylesheet" href="../upLoadRe_pc/css/re_upfile_des.css">
<link rel="stylesheet" href="/upLoadRe_pc/css/re_index.css">
<link href="../upLoadRe_pc/js/context/context.standalone.css" rel="stylesheet" >
<div class="re_upfile_top">
    <span class="top-return" onclick="javascript:history.go(-1);"></span>
    上传资源
</div>
<form action="test.php" enctype="multipart/form-data" method="post" id="uploadForm" name="upfiledes">
    <div class="re-material lrp10 mt10">
        <div class="re-material_l"><span><i></i>上传信息：{{cur_var.source_type_name}} {{cur_var.rec_object_name}} {{cur_var.book_type_name}} {{cur_var.free_type_name}}</span></div>
        <div class="re-material_r"><h5 ng-click="sw_teaching()">切换上传信息</h5></div>
     </div>
<div class="re_upfile_from" style="margin-bottom: 0px;">
    <h4 class="re_upfile_title">{{des.title}}名称<span class="error_msg" ng-show="upfiledes.title.$error.required">(标题不能为空)</span><span class="error_msg" ng-show="upfiledes.title.$error.maxlength">(名称太长了,字数最多22个)</span></h4>
    <div class="re_uf_style">
        <input type="text" ng-model="title" name="title" value="" ng-maxlength="22" required placeholder="请输入{{des.title}}名称，字数最多22个">
    </div>
    <h4 class="re_upfile_title">{{des.title}}作者</h4>
    <div class="re_uf_style">
        <input type="text" ng-model="author" name="author" value=""  placeholder="请输入{{des.title}}作者">
    </div>
    <h4 class="re_upfile_title">{{des.title}}出版社</h4>
    <div class="re_uf_style">
        <input type="text" ng-model="press" name="press" value=""  required placeholder="请输入{{des.title}}出版社">
    </div>
    <h4 class="re_upfile_title">{{des.title}}IBSN</h4>
    <div class="re_uf_style">
        <input type="text" ng-model="ibsn" name="ibsn" value=""  required placeholder="请输入{{des.title}}IBSN">
    </div>
    <h4 class="re_upfile_title">{{des.title}}推荐理由</h4>
    <div class="re_uf_style">
        <input type="text" ng-model="introduce" name="introduce" value=""  required placeholder="请输入{{des.title}}推荐理由">
    </div>
    <h4 class="re_upfile_title">简介内容<span class="error_msg" ng-show="upfiledes.explain.$error.maxlength">(简介内容太长了,字数最多150个)</span></h4>
    <div class="re_uf_style">
        <textarea rows="4" ng-model="explain" name="explain" ng-maxlength="150" placeholder="请输入{{des.title}}内容说明，字数最多150个"></textarea>
    </div>
</div>

<div class="re_upfile_from">
    <h4 class="re_upfile_title">上传{{des.video.title}}</h4>
    <div class="re_upfile_block" ng-click="uploadvideo()">
        <p>上传{{des.video.title}}</p>
        <div class="uploadvideocontent">
            <div class="file_icon">
                <img src="{{des.video.pic}}">
            </div>
            <div class="file_name"> 
                上传{{des.video.title}}20%
            </div>
            <!--<progress id="upfile_progress_bar" value="0"></progress>-->
            <div class="upfile_progress_bar">
                <div class="upfile_progress"></div>
            </div>
            <div class="upfile_type">
                word/0M
            </div>
        </div>
    </div>
    <div class="re_uf_bldes">
        <span class="uf">名称</span><input type="text" ng-model="cur_var.fileVideoName" class="ufName videoName" value="{{fileVideoName}}"></br>
        限制大小为：{{des.video.upfile_video_size}}MB &nbsp<br />（格式:{{des.video.upfile_video_ext}} ）
        <input type="file" name="file" id="uploadvideo" onchange="angular.element(this).scope().fileSelected('uploadvideo')" {{curtype == "picture"?' multiple="true"':''}}>
    </div>
</div>

<div class="re_upfile_from">
    <h4 class="re_upfile_title">上传{{des.audio.title}}</h4>
    <div class="re_upfile_block" ng-click="uploadaudio()">
        <p>上传{{des.audio.title}}</p>
        <div class="uploadaudiocontent">
            <div class="file_icon">
                <img src="{{des.audio.pic}}">
            </div>
            <div class="file_name">
                上传{{des.video.title}}20%
            </div>
            <!--<progress id="upfile_progress_bar" value="0"></progress>-->
            <div class="upfile_progress_bar">
                <div class="upfile_progress"></div>
            </div>
            <div class="upfile_type">
                word/0M
            </div>  
        </div>
    </div>
    <div class="re_uf_bldes">
            <span class="uf">名称</span><input type="text" class="ufName audioName"ng-model="cur_var.fileAudioName" value="{{fileAudioName}}"></br>
        限制大小为：{{des.audio.upfile_video_size}}MB &nbsp;<br />（格式:{{des.audio.upfile_video_ext|myjoin:","}} ）
        <input type="file" name="file" id="uploadaudio" onchange="angular.element(this).scope().fileSelected('uploadaudio')" {{curtype == "picture"?' multiple="true"':''}}>
    </div>
</div>

<div class="re_upfile_from mb0">
    <h4 class="re_upfile_title">上传{{des.question.title}}</h4>
    <div class="re_upfile_block" ng-click="uploadenclosure()">
        <p>上传{{des.question.title}}</p>
        <div class="uploadenclosurecontent">
            <div class="file_icon">
                <img src="{{des.question.pic}}">
            </div>
            <div class="file_name">
                上传{{des.question.title}}20%
            </div>
            <!--<progress id="upfile_progress_bar" value="0"></progress>-->
            <div class="upfile_progress_bar">
                <div class="upfile_progress"></div>
            </div>
            <div class="upfile_type">
                word/0M
            </div>
        </div>
    </div>
    <div class="re_uf_bldes"> 
            <span class="uf">名称</span><input type="text" ng-model="cur_var.fileSorceName" class="ufName fileSorceName" value="{{fileSourceName}}"></br>
        限制大小为：{{des.question.upfile_video_size}}MB &nbsp;<br />（格式:{{des.question.upfile_video_ext|myjoin:","}} ）
        <input type="file" name="enclosure" id="uploadenclosure" onchange="angular.element(this).scope().fileSelected('uploadenclosure')"  multiple="true">
      
    </div>
</div> 
<div class="re_upfile_from mb0">  
    <h4 class="re_upfile_title">上传{{des.picture.title}}封面</h4>
    <div class="re_upfile_block" ng-click="uploadcover()">
        <p>上传{{des.picture.title}}</p>
        <div class="uploadcovercontent">
            <div class="file_icon">
                <img src="/upLoadRe_pc/img/re_upfile_des/upfile_icon/icon_tupian.png">
            </div>
            <div class="file_name">
                上传{{des.picture.title}}20%
            </div>
            <!--<progress id="upfile_progress_bar" value="0"></progress>-->
            <div class="upfile_progress_bar">
                <div class="upfile_progress"></div>
            </div>
            <div class="upfile_type">
                word/0M
            </div>
        </div>
    </div>
    <div class="re_uf_bldes">
            <span class="uf">名称</span><input type="text" ng-model="cur_var.fileCoverName" class="ufName fileCoverName" value="{{fileCoverName}}">{{fileName}}</br>
        限制大小为：{{des.picture.upfile_video_size}}MB &nbsp;<span ng-if="curtype==14">数量限制：20张</span><br />（格式:{{des.picture.upfile_video_ext|myjoin:","}} ）
        <input type="file" accept="image/png,image/gif,image/jpeg" name="coverImg" id="uploadcover" onchange="angular.element(this).scope().fileSelected('uploadcover')">
    </div>
</div>
<div class="resources_type">
    <span class="res">是否允许评论</span> <label for="Tcomment"><input type="radio" name="comment" id="Tcomment" >是</label> <label for="Ncomment"><input type="radio" name="comment" id="Ncomment" checked>否</label> 
</div>
<div class="resources_type">
    <span class="res">是否允许分享</span> <label for="Tfree"><input type="radio" name="free" id="Tfree"  checked >是</label>  <label for="Nfree"><input type="radio" name="free" id="Nfree">否</label> 
</div>

<div class="resources_type chapter_t">
    本章节<span class="res"><input  type="text" placeholder="请输入价格" class="chapter_input"></span> 元/节
</div>

<div class="resources_type chapter_free">
        整套<span class="res"><input  type="text" placeholder="请输入价格" class="chapter_input"></span> 元/节
    </div>

<div class="re_upfile_sumbt">
    <div class="re_upfile_xieyi"><label for="read"><input id="read" type="checkbox" ng-click="setRead()">我已阅读</label><a href="###">《资源上传服务条款》</a></div>
    <div id="re_upfile_sumbt" ng-click="upfileSumbt(upfiledes.$valid)">确定上传</div>
</div>

<!--教材-->
<div id="p_material" class="p_dig">
    <div class="p_dig_content">
        <div class="p_head">请选择教材<span class="p_head_colse"></span></div>
        <div class="p_switch">
            <div class="p_switch_left {{cuswce=='up'?'p_switch_act':''}}" ng-click="swCe('up')">上册</div>
            <div class="p_switch_right {{cuswce=='dow'?'p_switch_act':''}}" ng-click="swCe('dow')">下册</div>
        </div>
        <div class="p_content_list">
            <ul>
                <li ng-repeat="s in cursemester" ng-click="setTypeId('Teachingmaterial',s.id)" ng-class="(s.id==teachingmaterial_id)?'pc_list_act':''">{{s.title}}</li>
            </ul>
        </div>
        <div class="p_confirm">确定</div>
    </div>
</div>


<!--课程类型-->
<div id="p_curriculumtype" class="p_dig">
    <div class="p_dig_content">
        <div class="p_head">请选择课程类型<span class="p_head_colse" ng-click="setTypeId('CurriculumType',c.id,c.title,false,c.key)"></span></div>
        <div class="p_content_list">
            <ul>
                <li ng-repeat="c in CurriculumType" ng-click="setTypeId('CurriculumType',c.id,c.title,true,c.key)" class="{{c.id==tmp.curriculum_type_id?'pc_list_act':''}}">{{c.title}}</li>
            </ul>
        </div>
        <div class="p_confirm" ng-click="setCurriculumType()">确定</div>
    </div>
</div>

<!-- 切换上传对象 -->
<div id="p_sw_material" ng-cloak class="p_dig" >
    <div class="p_dig_content" style="padding-bottom: 50px;">
        <div class="p_sw_material_content">
            <div>
                <div class="p_sw_material_block" class="one">
                    <h2>资源类型</h2>
                        <ul>
                            <li><div ng-repeat="c in sourceType" class="{{gcss[$index%3]}}"><span ng-click="setSourceType(c.id,c.name)" ng-class="(c.id==cmp.source_type_id)?'pc_list_act':''">{{c.name}}</span></div></li>
                        </ul>
                </div>
                <div class="p_sw_material_block" >
                    <h2>推荐对象</h2>
                    <ul>
                        <li><div ng-repeat="s in recObject" class="{{gcss[$index%3]}}"><span ng-click="setRecObject(s.id,s.value)" ng-class="(s.id==cmp.rec_object_id)?'pc_list_act':''">{{s.value}}</span></div></li>
                    </ul>
                </div>
                <div class="p_sw_material_block">
                    <h2>书籍类型</h2>
                    <ul>
                        <li><div ng-repeat="v in bookType" class="{{gcss[$index%3]}}"><span ng-click="setBookType(v.id,v.value)" ng-class="(v.id==cmp.book_type_id)?'pc_list_act':''">{{v.value}}</span></div></li>
                    </ul>
                </div>
                <div class="p_sw_material_block" >
                    <h2>发布模式</h2>
                    <ul>
                        <li><div ng-repeat="s in sourceFree" class="{{gcss[$index%3]}}"><span ng-click="setFree(s.id,s.value)" ng-class="(s.id==cmp.free_type_id)?'pc_list_act':''">{{s.value}}</span></div></li>
                    </ul>
                </div>
            </div>            
        </div>
        <div class="clear p_sw_bttool">
            <div class="p_cancelBtn" ng-click="uploadCancel()">取消</div>
            <div class="p_confirmBtn" ng-click="uploadlSubmit()">确定</div>
        </div>        
    </div>
</div>
</form>
<script src="/upLoadRe/js/re_upfile_des.js"></script>
<script src="/upLoadRe/js/layer/layer.js"></script>
<script src="/upLoadRe/js/context/context.js"></script>